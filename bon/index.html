<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>BON</title>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <link rel="stylesheet" href="./../stylesheets/styles.css">
    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="./../javascripts/scale.fix.js"></script> 
  </head>
  <body>
  <script type="text/javascript">
    $(function() {
      $(document.body).append('<span class="loading">Loading..</span>').hide().fadeIn(1000);
      $.getJSON('http://ws.audioscrobbler.com/2.0/?method=artist.getevents&artist=Bon%20Jovi&api_key=7d804b465b74e0e6c6fdfd6baeb2ad93&format=json', function(data, status, xhr) {
        $('span.loading').empty().append('âœ”').fadeOut(2000);
        (function loop(max, data) {
          $('body').append('<div class="info">');
          for (i=0; i<max; i++) {
            var str = [
              '<strong>' + data.events.event[i].title + '</strong>',
              data.events.event[i].startDate.slice(0, -9),
              '<img src="' + data.events.event[i].image[1]["#text"] + '" />',
              data.events.event[i].venue.name + ', ' + data.events.event[i].venue.location.city,
              '<img src="' + data.events.event[i].venue.image[1]["#text"] + '" />'
            ].join('<br>');
            $('div.info').append(str + '<br><br>');
          }
        })(data.events.event.length, data);
      });
    });
  </script>
  </body>
</html>
